@tailwind base;
@tailwind components;
@tailwind utilities;

/* --- FONTS (Self-Hosted for Speed) --- */
@font-face {
  font-family: 'Outfit';
  font-style: normal;
  font-weight: 300;
  font-display: swap;
  src: url('/fonts/Outfit-Light.ttf') format('truetype');
}
@font-face {
  font-family: 'Outfit';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url('/fonts/Outfit-Regular.ttf') format('truetype');
}
@font-face {
  font-family: 'Outfit';
  font-style: normal;
  font-weight: 500;
  font-display: swap;
  src: url('/fonts/Outfit-Medium.ttf') format('truetype');
}
@font-face {
  font-family: 'Outfit';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: url('/fonts/Outfit-SemiBold.ttf') format('truetype');
}
@font-face {
  font-family: 'Outfit';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url('/fonts/Outfit-Bold.ttf') format('truetype');
}
@font-face {
  font-family: 'Outfit';
  font-style: normal;
  font-weight: 800;
  font-display: swap;
  src: url('/fonts/Outfit-ExtraBold.ttf') format('truetype');
}

@font-face {
  font-family: 'Space Grotesk';
  font-style: normal;
  font-weight: 300;
  font-display: swap;
  src: url('/fonts/SpaceGrotesk-Light.ttf') format('truetype');
}
@font-face {
  font-family: 'Space Grotesk';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url('/fonts/SpaceGrotesk-Regular.ttf') format('truetype');
}
@font-face {
  font-family: 'Space Grotesk';
  font-style: normal;
  font-weight: 500;
  font-display: swap;
  src: url('/fonts/SpaceGrotesk-Medium.ttf') format('truetype');
}
@font-face {
  font-family: 'Space Grotesk';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: url('/fonts/SpaceGrotesk-SemiBold.ttf') format('truetype');
}
@font-face {
  font-family: 'Space Grotesk';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url('/fonts/SpaceGrotesk-Bold.ttf') format('truetype');
}

/* --- LAYER 1: THEME VARIABLES --- */
@layer base {
  :root {
    /* DAY MODE (Clean & Professional) */
    --bg-void: #FAFAFA; 
    --bg-surface: rgba(255, 255, 255, 0.85); 
    --bg-surface-highlight: #F1F5F9; 
    --tx-main: #0F172A; /* Darker Slate for better readability (Accessibility) */
    --tx-muted: #64748B; 
    --border-glass: rgba(0, 0, 0, 0.08); 
    --grid-color: rgba(0, 0, 0, 0.04);
    --shadow-color: rgba(0, 0, 0, 0.05);
  }

  .dark {
    /* NIGHT MODE (Deep & AMOLED Friendly) */
    --bg-void: #020617; /* Slate 950 - Richer black */
    --bg-surface: rgba(15, 23, 42, 0.7); 
    --bg-surface-highlight: #1E293B; 
    --tx-main: #F8FAFC; 
    --tx-muted: #94A3B8; 
    --border-glass: rgba(255, 255, 255, 0.08);
    --grid-color: rgba(255, 255, 255, 0.03);
    --shadow-color: rgba(0, 0, 0, 0.5);
  }

  /* Core HTML Setup for SEO & UX */
  html {
    scroll-behavior: smooth; /* User Friendly Scrolling */
    scroll-padding-top: 100px; /* Prevents header overlapping content */
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    background-color: var(--bg-void);
    color: var(--tx-main);
    transition: background-color 0.3s ease, color 0.3s ease;
    overflow-x: hidden; /* Prevents horizontal scroll glitches */
  }

  /* Focus Styles for Accessibility (Keyboard Navigation) */
  :focus-visible {
    outline: 2px solid #7C3AED;
    outline-offset: 2px;
  }
}

/* --- LAYER 2: CUSTOM UTILITIES --- */
@layer components {
  /* Cinematic Noise Texture - Performance Optimized */
  .noise-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 50;
    opacity: 0.02;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    mix-blend-mode: overlay;
    will-change: opacity; /* GPU Hint */
  }

  .dark .noise-overlay {
    opacity: 0.04;
  }

  /* Premium Glass Panel */
  .glass-panel {
    background: var(--bg-surface);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid var(--border-glass);
    box-shadow: 0 8px 32px 0 var(--shadow-color);
  }
}

/* --- LAYER 3: GLOBAL STYLES --- */

/* Selection Color */
::selection {
  background: rgba(124, 58, 237, 0.25);
  color: inherit;
}

/* Custom Scrollbar (Modern & Minimal) */
::-webkit-scrollbar {
  width: 8px; /* Thinner for cleaner look */
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background-color: rgba(156, 163, 175, 0.5);
  border-radius: 20px;
  border: 2px solid transparent;
  background-clip: content-box;
}
::-webkit-scrollbar-thumb:hover {
  background-color: rgba(124, 58, 237, 0.8); /* Brand Purple on Hover */
}

/* --- PERFORMANCE UTILITIES --- */

/* 1. GPU Acceleration Class */
.gpu-accelerated {
  transform: translateZ(0);
  will-change: transform, opacity;
  backface-visibility: hidden;
}

/* 2. Text Balance (Better Readability for SEO Headlines) */
.text-balance {
  text-wrap: balance;
}

/* 3. Content Visibility (Huge PageSpeed Booster) */
/* Renders content only when it approaches the viewport */
.content-auto {
  content-visibility: auto;
  contain-intrinsic-size: 1px 800px; /* Estimates height to prevent scroll jump */
}

/* --- ACCESSIBILITY (A11Y) --- */
/* Respect user motion preferences */
@media (prefers-reduced-motion: reduce) {
  *, ::before, ::after {
    animation-duration: 0.01s !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01s !important;
    scroll-behavior: auto !important;
  }
}